
<!doctype html>
<html>
<head>
    <title>Example Domain</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="/master.css">
    <script>


      function getOcc(){
        var x = document.getElementById("occupation").value;
        sendRequestForSkillSearch(x);
      }

      function sendRequestForSkillSearch(skillName) {
          let xhr = new XMLHttpRequest();
    // 2. Configure it: GET-request for the URL /article/.../load
          //xhr.open('GET', '/api/searchConnections/' + 'soccer');
          xhr.open('GET', '/api/searchConnections/' + skillName);

          // 3. Send the request over the network
          xhr.send();

          // 4. This will be called after the response is received
          xhr.onload = function() {
          if (xhr.status != 200) { // analyze HTTP status of the response
          alert(`Error ${xhr.status}: ${xhr.statusText}`); // e.g. 404: Not Found
          } else { // show the result
            var result = JSON.parse(xhr.response);
            result = result.searchResults;
            var htmlContent = "<div>";
            for (var i in result) {
                console.log(result[i]);
                for (var k in result[i]) {
                    var item = result[i][k];
                    console.log(item);
                    for (var j in item) {
                        htmlContent += "<p>" + item[j] + "</p>";
                    }
                }
                htmlContent += "<br>";
            }
            htmlContent += "</div>";
            document.getElementById("searchRes").innerHTML = htmlContent;
          }
          };
      }

    </script>
</head>

<body>
        <div id='logo'>
                <h1 id='connectLogo'> Connect</h1>
                <h2 id='withLogo' > With</h2>
                </div>
                
<div>
    <h1>What is your desired occupation?</h1>
    <input type="text" id="occupation">
    <button type="button" onclick="getOcc()" name="button">Find</button>

    </form>
    <p id='searchRes'>

    </p>

    <!-- <p>This domain is for use in illustrative examples in documents. You may use this
    domain in literature without prior coordination or asking for permission.</p>
    <p><a href="https://www.iana.org/domains/example">More information...</a></p> -->
</div>
</body>
</html>
